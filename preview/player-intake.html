<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>NJ HITZ Player/Recruit Intake</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet" />

  <style>
    :root {
      --hitz-purple:#4c2a85;
      --hitz-gold:#b38b35;
      --hitz-black:#050509;
      --hitz-white:#ffffff;
      --hitz-gray:#181820;
      --error:#ff7676;
    }

    * { box-sizing:border-box; }

    body {
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;
      background:radial-gradient(1200px 800px at 70% -10%,rgba(179,139,53,.15),#050509);
      color:var(--hitz-white);
      line-height:1.5;
    }

    a { color:inherit; text-decoration:none; }
    a:hover { text-decoration:underline; }

    /* Shared site header & navigation (matching site) */
    .site-header{
      position:sticky;
      top:0;
      z-index:50;
      background:linear-gradient(90deg,rgba(12,10,24,.97),rgba(17,13,30,.98));
      border-bottom:2px solid var(--hitz-gold);
      backdrop-filter:blur(10px);
    }
    .nav-inner{
      max-width:1100px;
      margin:0 auto;
      padding:8px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .nav-brand{
      display:inline-flex;
      align-items:center;
      gap:8px;
      text-decoration:none;
      color:#ffffff;
    }
    .nav-brand img{
      height:44px;
      width:auto;
      filter:drop-shadow(0 2px 10px rgba(0,0,0,.6));
    }
    .nav-brand span{
      font-size:.8rem;
      text-transform:uppercase;
      letter-spacing:.18em;
      font-weight:800;
      white-space:nowrap;
    }
    .nav-links{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .nav-links a{
      font-size:.8rem;
      text-transform:uppercase;
      letter-spacing:.12em;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid transparent;
      text-decoration:none;
      color:#eaeaf5;
      white-space:nowrap;
    }
    .nav-links a:hover{
      border-color:rgba(255,255,255,.2);
      background:rgba(179,139,53,.12);
      text-decoration:none;
    }
    .nav-toggle{
      display:none;
      width:38px;
      height:32px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.35);
      background:rgba(10,10,16,.9);
      color:#fff;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      gap:4px;
      padding:0;
      cursor:pointer;
    }
    .nav-toggle-bar{
      width:18px;
      height:2px;
      border-radius:999px;
      background:#fff;
    }
    .nav-menu{
      display:none;
      background:#101018;
      border-bottom:1px solid rgba(255,255,255,.12);
    }
    .nav-menu--open{
      display:block;
    }
    .nav-menu a{
      display:block;
      padding:10px 18px;
      border-top:1px solid rgba(255,255,255,.06);
      text-decoration:none;
      font-size:.9rem;
      color:#f1f1ff;
    }
    .nav-menu a:hover{
      background:rgba(179,139,53,.16);
      text-decoration:none;
    }
    @media (max-width:768px){
      .nav-links{
        display:none;
      }
      .nav-toggle{
        display:inline-flex;
      }
    }
    @media (min-width:769px){
      .nav-menu{
        display:none !important;
      }
    }

    /* Hero section (mirrors teams/player pages) */
    .hero{
      position:relative;
      padding:28px 16px 22px;
      background:
        linear-gradient(140deg,rgba(76,42,133,.9),rgba(11,11,20,.98)),
        url("images/7F0A3530.jpg") center/cover no-repeat;
      border-bottom:3px solid var(--hitz-gold);
    }
    .hero::after{
      content:"";
      position:absolute;
      inset:0;
      background:radial-gradient(circle at 10% 0,rgba(179,139,53,.26),transparent 55%);
      opacity:.85;
      pointer-events:none;
    }
    .hero-inner{
      position:relative;
      max-width:1100px;
      margin:0 auto;
      text-align:left;
    }
    .hero-eyebrow{
      text-transform:uppercase;
      letter-spacing:.18em;
      font-size:.8rem;
      color:var(--hitz-gold);
      margin-bottom:6px;
      font-weight:800;
    }
    .hero h1{
      margin:0 0 6px;
      font-size:clamp(26px,4vw,32px);
      letter-spacing:.03em;
    }
    .hero p{
      margin:0;
      max-width:640px;
      color:#f1f1fa;
      font-size:.95rem;
    }

    main {
      max-width:1100px;
      margin:18px auto 32px;
      padding:0 16px 24px;
    }

    .intro {
      font-size:.95rem;
      color:#d7d7e6;
      margin:8px 0 16px;
    }

    .section-title {
      margin:18px 0 6px;
      font-size:.9rem;
      text-transform:uppercase;
      letter-spacing:.16em;
      color:#e4e4f5;
    }

    .form-card {
      background:rgba(13,13,22,.96);
      border-radius:16px;
      border:1px solid rgba(255,255,255,.16);
      padding:14px 14px 18px;
      margin-bottom:16px;
      box-shadow:0 18px 32px rgba(0,0,0,.55);
    }

    .form-grid-two {
      display:grid;
      grid-template-columns:minmax(0,1fr) minmax(0,1fr);
      gap:10px 16px;
    }
    @media (max-width:720px) {
      .form-grid-two {
        grid-template-columns:1fr;
      }
    }

    .field {
      margin-bottom:10px;
    }
    .field label {
      display:block;
      font-size:.86rem;
      font-weight:600;
      margin-bottom:3px;
    }
    .field small {
      display:block;
      font-size:.78rem;
      color:#c4c4dd;
      margin-bottom:3px;
    }
    .field input[type="text"],
    .field input[type="number"],
    .field input[type="email"],
    .field input[type="tel"],
    .field input[type="url"],
    .field input[type="date"],
    .field select,
    .field textarea {
      width:100%;
      padding:6px 8px;
      border-radius:8px;
      border:1px solid #343446;
      background:#080810;
      color:var(--hitz-white);
      font-size:.9rem;
      outline:none;
    }
    .field textarea {
      min-height:70px;
      resize:vertical;
    }
    .field input:focus,
    .field select:focus,
    .field textarea:focus {
      border-color:var(--hitz-gold);
      box-shadow:0 0 0 1px rgba(179,139,53,.3);
    }

    .checkbox-row {
      display:flex;
      flex-wrap:wrap;
      gap:6px 12px;
      margin-top:4px;
    }
    .checkbox-row label {
      display:inline-flex;
      align-items:center;
      font-weight:400;
      font-size:.86rem;
      gap:4px;
    }

    .file-input {
      border:1px dashed #44445b;
      border-radius:10px;
      padding:8px;
      background:#05050c;
      font-size:.85rem;
    }

    .form-error {
      margin:8px 0 10px;
      padding:6px 10px;
      border-radius:8px;
      border:1px solid rgba(255,118,118,.9);
      background:rgba(60,10,10,.9);
      color:#ffd6d6;
      font-size:.85rem;
      display:none;
    }

    .form-success {
      margin:8px 0 10px;
      padding:6px 10px;
      border-radius:8px;
      border:1px solid rgba(120,200,140,.9);
      background:rgba(10,40,20,.9);
      color:#d5ffe0;
      font-size:.85rem;
      display:none;
    }

    .btn-row {
      margin-top:14px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .btn-primary {
      border:none;
      border-radius:999px;
      padding:8px 16px;
      font-size:.9rem;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.12em;
      background:var(--hitz-gold);
      color:#050509;
      cursor:pointer;
    }
    .btn-primary:disabled {
      opacity:.6;
      cursor:default;
    }
    .btn-secondary {
      border-radius:999px;
      padding:8px 16px;
      font-size:.85rem;
      border:1px solid #55556a;
      background:transparent;
      color:#f0f0ff;
      cursor:pointer;
    }

    footer{
      padding:14px 16px 20px;
      border-top:2px solid rgba(255,255,255,.08);
      font-size:.82rem;
      color:#bdbdd1;
      text-align:center;
      background:#050509;
      margin-top:10px;
    }
  </style>
</head>

<body>
  <!-- Shared site header -->
  <header class="site-header">
    <div class="nav-inner">
      <a href="index.html" class="nav-brand">
        <img src="images/hitzpurple.png" alt="NJ HITZ Softball logo">
        <span>NJ HITZ SOFTBALL</span>
      </a>

      <!-- Desktop navigation -->
      <nav class="nav-links" aria-label="Primary navigation">
        <a href="index.html#program">Program</a>
        <a href="index.html#mission">Mission</a>
        <a href="index.html#gallery">Gallery</a>
        <a href="teams.html">Teams</a>
        <a href="index.html#contact">Contact</a>
        <a href="tryouts">Tryouts</a>
      </nav>

      <!-- Mobile hamburger -->
      <button class="nav-toggle" type="button" aria-label="Toggle navigation" aria-expanded="false">
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
      </button>
    </div>

    <!-- Mobile nav panel -->
    <nav class="nav-menu" aria-label="Mobile navigation">
      <a href="index.html#program">Program</a>
      <a href="index.html#mission">Mission</a>
      <a href="index.html#gallery">Gallery</a>
      <a href="teams.html">Teams</a>
      <a href="index.html#contact">Contact</a>
      <a href="tryouts">Tryouts</a>
    </nav>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-inner">
      <div class="hero-eyebrow">NJ HITZ SOFTBALL</div>
      <h1>Player/Recruit Intake</h1>
      <p>
        Submit information used to build your NJ HITZ player profile for college coaches and program marketing.
        Fields marked with * are required.
      </p>
    </div>
  </section>

  <main>
    <p class="intro">
      After submission, coaches or staff may edit entries for clarity and formatting before publishing on the site.
    </p>

    <form id="playerForm" action="/player-intake" method="POST" enctype="multipart/form-data" novalidate>
      <div id="formError" class="form-error"></div>
      <div id="formSuccess" class="form-success"></div>

      <!-- SECTION 1: Player & Team -->
      <h2 class="section-title">Player & Team</h2>
      <div class="form-card">
        <div class="field">
          <label for="playerName">Player Name *</label>
          <input type="text" id="playerName" name="playerName" autocomplete="name" />
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="teamName">Team *</label>
            <select id="teamName" name="teamName">
              <option value="">Select team</option>
              <option value="NJ HITZ 18U 2029">NJ HITZ 18U 2029</option>
              <option value="NJ HITZ 16U 2029">NJ HITZ 16U 2029</option>
              <option value="NJ HITZ 14U 2030-31">NJ HITZ 14U 2030-31</option>
              <option value="NJ HITZ 12U 2030-31">NJ HITZ 12U 2030-31</option>
            </select>
          </div>

          <div class="field">
            <label for="jerseyNumber">Jersey Number *</label>
            <input type="text" id="jerseyNumber" name="jerseyNumber" />
          </div>
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="primaryPosition">Primary Position *</label>
            <select id="primaryPosition" name="primaryPosition">
              <option value="">Select position</option>
              <option value="P">P</option>
              <option value="C">C</option>
              <option value="1B">1B</option>
              <option value="2B">2B</option>
              <option value="3B">3B</option>
              <option value="SS">SS</option>
              <option value="OF">OF</option>
              <option value="UTIL">UTIL</option>
            </select>
          </div>

          <div class="field">
            <label for="batsThrows">Bats / Throws *</label>
            <select id="batsThrows" name="batsThrows">
              <option value="">Select</option>
              <option value="R/R">R/R</option>
              <option value="R/L">R/L</option>
              <option value="L/R">L/R</option>
              <option value="L/L">L/L</option>
              <option value="Switch/R">Switch/R</option>
              <option value="Switch/L">Switch/L</option>
            </select>
          </div>
        </div>

        <div class="field">
          <label>Other Positions Played</label>
          <div class="checkbox-row">
            <label><input type="checkbox" name="positions" value="P" /> P</label>
            <label><input type="checkbox" name="positions" value="C" /> C</label>
            <label><input type="checkbox" name="positions" value="1B" /> 1B</label>
            <label><input type="checkbox" name="positions" value="2B" /> 2B</label>
            <label><input type="checkbox" name="positions" value="3B" /> 3B</label>
            <label><input type="checkbox" name="positions" value="SS" /> SS</label>
            <label><input type="checkbox" name="positions" value="OF" /> OF</label>
            <label><input type="checkbox" name="positions" value="UTIL" /> UTIL</label>
          </div>
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="gradYear">High School Graduation Year *</label>
            <input type="text" id="gradYear" name="gradYear" />
          </div>

          <div class="field">
            <label for="dob">Date of Birth</label>
            <input type="date" id="dob" name="dob" />
          </div>
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="height">Height</label>
            <small>Example: 5'5"</small>
            <input type="text" id="height" name="height" />
          </div>

          <div class="field">
            <label for="weight">Weight</label>
            <small>Example: 125 lbs</small>
            <input type="text" id="weight" name="weight" />
          </div>
        </div>

        <div class="field">
          <label for="cityState">City &amp; State *</label>
          <small>Example: Flanders, NJ</small>
          <input type="text" id="cityState" name="cityState" />
        </div>
      </div>

      <!-- SECTION 2: School & Academics -->
      <h2 class="section-title">School & Academics</h2>
      <div class="form-card">
        <div class="field">
          <label for="schoolName">Current School Name *</label>
          <input type="text" id="schoolName" name="schoolName" />
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="gpa">Current GPA</label>
            <small>Use 4.0 scale if possible.</small>
            <input type="text" id="gpa" name="gpa" />
          </div>

          <div class="field">
            <label for="intendedMajor">Intended College Major (if known)</label>
            <input type="text" id="intendedMajor" name="intendedMajor" />
          </div>
        </div>

        <div class="field">
          <label for="honors">Academic Honors / Awards</label>
          <textarea id="honors" name="honors"></textarea>
        </div>

        <div class="field">
          <label for="academics">Academic Summary</label>
          <small>Courses, AP/IB, academic interests, etc.</small>
          <textarea id="academics" name="academics"></textarea>
        </div>
      </div>

      <!-- SECTION 3: Contact -->
      <h2 class="section-title">Contact Information</h2>
      <div class="form-card">
        <div class="form-grid-two">
          <div class="field">
            <label for="playerEmail">Player Email</label>
            <input type="email" id="playerEmail" name="playerEmail" autocomplete="email" />
          </div>
          <div class="field">
            <label for="playerPhone">Player Phone</label>
            <input type="tel" id="playerPhone" name="playerPhone" />
          </div>
        </div>

        <div class="field">
          <label for="guardian1Name">Parent/Guardian 1 Name *</label>
          <input type="text" id="guardian1Name" name="guardian1Name" />
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="guardian1Email">Parent/Guardian 1 Email *</label>
            <input type="email" id="guardian1Email" name="guardian1Email" />
          </div>
          <div class="field">
            <label for="guardian1Phone">Parent/Guardian 1 Phone *</label>
            <input type="tel" id="guardian1Phone" name="guardian1Phone" />
          </div>
        </div>

        <div class="field">
          <label for="guardian2Name">Parent/Guardian 2 Name</label>
          <input type="text" id="guardian2Name" name="guardian2Name" />
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="guardian2Email">Parent/Guardian 2 Email</label>
            <input type="email" id="guardian2Email" name="guardian2Email" />
          </div>
          <div class="field">
            <label for="guardian2Phone">Parent/Guardian 2 Phone</label>
            <input type="tel" id="guardian2Phone" name="guardian2Phone" />
          </div>
        </div>
      </div>

      <!-- SECTION 4: Family & Bio -->
      <h2 class="section-title">Family & Bio</h2>
      <div class="form-card">
        <div class="field">
          <label for="family">Family / Background Notes</label>
          <textarea id="family" name="family"></textarea>
        </div>
        <div class="field">
          <label for="bio">Player Bio (for website / college coaches)</label>
          <textarea id="bio" name="bio"></textarea>
        </div>
      </div>

      <!-- SECTION 5: Measurables -->
      <h2 class="section-title">Measurables</h2>
      <div class="form-card">
        <div class="form-grid-two">
          <div class="field">
            <label for="homeToFirst">Home-to-1st Time</label>
            <small>Example: 3.1s</small>
            <input type="text" id="homeToFirst" name="homeToFirst" />
          </div>
          <div class="field">
            <label for="overhandVelo">Overhand Throwing Velocity (mph)</label>
            <input type="text" id="overhandVelo" name="overhandVelo" />
          </div>
        </div>

        <div class="field">
          <label for="exitVelo">Exit Velocity (mph)</label>
          <input type="text" id="exitVelo" name="exitVelo" />
        </div>
      </div>

      <!-- SECTION 6: Offense Stats -->
      <h2 class="section-title">Offensive Statistics (Most Recent Season)</h2>
      <div class="form-card">
        <div class="field">
          <label for="offSeason">Offensive Stats - Season Label</label>
          <small>Example: 2024 Club, 2024 HS Varsity</small>
          <input type="text" id="offSeason" name="offSeason" />
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="avg">Batting Average (AVG)</label>
            <input type="text" id="avg" name="avg" />
          </div>
          <div class="field">
            <label for="obp">On-Base Percentage (OBP)</label>
            <input type="text" id="obp" name="obp" />
          </div>
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="slg">Slugging Percentage (SLG)</label>
            <input type="text" id="slg" name="slg" />
          </div>
          <div class="field">
            <label for="ops">OPS</label>
            <input type="text" id="ops" name="ops" />
          </div>
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="hr">Home Runs (HR)</label>
            <input type="text" id="hr" name="hr" />
          </div>
          <div class="field">
            <label for="rbi">Runs Batted In (RBI)</label>
            <input type="text" id="rbi" name="rbi" />
          </div>
        </div>

        <div class="field">
          <label for="statsNote">Stats Notes</label>
          <small>Where stats are from; any clarifications.</small>
          <textarea id="statsNote" name="statsNote"></textarea>
        </div>
      </div>

      <!-- SECTION 7: Pitching Stats -->
      <h2 class="section-title">Pitching Statistics (Pitchers Only)</h2>
      <div class="form-card">
        <div class="field">
          <label for="pitSeason">Pitching Stats - Season Label</label>
          <input type="text" id="pitSeason" name="pitSeason" />
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="era">ERA</label>
            <input type="text" id="era" name="era" />
          </div>
          <div class="field">
            <label for="ip">Innings Pitched (IP)</label>
            <input type="text" id="ip" name="ip" />
          </div>
        </div>

        <div class="form-grid-two">
          <div class="field">
            <label for="k">Strikeouts (K)</label>
            <input type="text" id="k" name="k" />
          </div>
          <div class="field">
            <label for="bb">Walks (BB)</label>
            <input type="text" id="bb" name="bb" />
          </div>
        </div>

        <div class="field">
          <label for="whip">WHIP</label>
          <input type="text" id="whip" name="whip" />
        </div>
      </div>

      <!-- SECTION 8: Video & Links -->
      <h2 class="section-title">Video & Recruiting Links</h2>
      <div class="form-card">
        <div class="field">
          <label for="highlightVideoUrl">Highlight Video URL</label>
          <input type="url" id="highlightVideoUrl" name="highlightVideoUrl" />
        </div>

        <div class="field">
          <label for="recruitingProfileUrl">Recruiting Profile URL</label>
          <input type="url" id="recruitingProfileUrl" name="recruitingProfileUrl" />
        </div>

        <div class="field">
          <label for="additionalLinks">Any Additional Links</label>
          <small>Social media or additional video links (Label - URL, one per line).</small>
          <textarea id="additionalLinks" name="additionalLinks"></textarea>
        </div>
      </div>

      <!-- SECTION 9: Photo Upload -->
      <h2 class="section-title">Player Photo</h2>
      <div class="form-card">
        <div class="field">
          <label for="photoMain">Upload Player Photo</label>
          <small>Image files only (JPG, PNG, etc.). Maximum size 10MB.</small>
          <div class="file-input">
            <input type="file" id="photoMain" name="photoMain" accept="image/*" />
          </div>
        </div>
      </div>

      <div class="btn-row">
        <button type="submit" class="btn-primary" id="submitBtn">Submit</button>
        <button type="reset" class="btn-secondary">Reset</button>
      </div>
    </form>
  </main>

  <footer>
    © <span id="year"></span> NJ HITZ Softball — Player Showcase Intake
  </footer>

  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Shared mobile nav toggle script
    (function () {
      const toggle = document.querySelector('.nav-toggle');
      const menu = document.querySelector('.nav-menu');
      if (!toggle || !menu) return;
      toggle.addEventListener('click', function () {
        const isOpen = menu.classList.toggle('nav-menu--open');
        toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      });
      menu.querySelectorAll('a').forEach(function (link) {
        link.addEventListener('click', function () {
          menu.classList.remove('nav-menu--open');
          toggle.setAttribute('aria-expanded', 'false');
        });
      });
    })();

    // Form validation & sanitization
    (function () {
      const form = document.getElementById('playerForm');
      const errorBox = document.getElementById('formError');
      const successBox = document.getElementById('formSuccess');
      const submitBtn = document.getElementById('submitBtn');

      function sanitizeText(value) {
        if (!value) return '';
        return value.toString().trim();
      }

      function isValidEmail(value) {
        if (!value) return true;
        return /^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(value.trim());
      }

      function isValidUrl(value) {
        if (!value) return true;
        try {
          const u = new URL(value.trim());
          return !!u.protocol && !!u.host;
        } catch (e) {
          return false;
        }
      }

      function showErrors(errors) {
        if (!errors.length) {
          errorBox.style.display = 'none';
          errorBox.innerHTML = '';
          return;
        }
        errorBox.style.display = 'block';
        errorBox.innerHTML = '<strong>Please fix the following before submitting:</strong><ul>' +
          errors.map(e => '<li>' + e + '</li>').join('') +
          '</ul>';
        successBox.style.display = 'none';
        successBox.textContent = '';
      }

      form.addEventListener('submit', function (evt) {
        evt.preventDefault();
        const errors = [];

        // Required fields
        const playerName = sanitizeText(form.playerName.value);
        const teamName = sanitizeText(form.teamName.value);
        const jerseyNumber = sanitizeText(form.jerseyNumber.value);
        const primaryPosition = sanitizeText(form.primaryPosition.value);
        const batsThrows = sanitizeText(form.batsThrows.value);
        const gradYear = sanitizeText(form.gradYear.value);
        const cityState = sanitizeText(form.cityState.value);
        const schoolName = sanitizeText(form.schoolName.value);
        const guardian1Name = sanitizeText(form.guardian1Name.value);
        const guardian1Email = sanitizeText(form.guardian1Email.value);
        const guardian1Phone = sanitizeText(form.guardian1Phone.value);

        // Put sanitized values back into fields
        form.playerName.value = playerName;
        form.teamName.value = teamName;
        form.jerseyNumber.value = jerseyNumber;
        form.primaryPosition.value = primaryPosition;
        form.batsThrows.value = batsThrows;
        form.gradYear.value = gradYear;
        form.cityState.value = cityState;
        form.schoolName.value = schoolName;
        form.guardian1Name.value = guardian1Name;
        form.guardian1Email.value = guardian1Email;
        form.guardian1Phone.value = guardian1Phone;

        if (!playerName) errors.push('Player Name is required.');
        if (!teamName) errors.push('Team is required.');
        if (!jerseyNumber) errors.push('Jersey Number is required.');
        if (!primaryPosition) errors.push('Primary Position is required.');
        if (!batsThrows) errors.push('Bats / Throws is required.');
        if (!gradYear || !/^\d{4}$/.test(gradYear)) {
          errors.push('High School Graduation Year is required and must be a 4-digit year.');
        }
        if (!cityState) errors.push('City & State is required.');
        if (!schoolName) errors.push('Current School Name is required.');
        if (!guardian1Name) errors.push('Parent/Guardian 1 Name is required.');
        if (!guardian1Email) errors.push('Parent/Guardian 1 Email is required.');
        if (guardian1Email && !isValidEmail(guardian1Email)) {
          errors.push('Parent/Guardian 1 Email is not a valid email address.');
        }
        if (!guardian1Phone) errors.push('Parent/Guardian 1 Phone is required.');

        // Optional emails
        const playerEmail = sanitizeText(form.playerEmail.value);
        const guardian2Email = sanitizeText(form.guardian2Email.value);
        form.playerEmail.value = playerEmail;
        form.guardian2Email.value = guardian2Email;

        if (playerEmail && !isValidEmail(playerEmail)) {
          errors.push('Player Email is not a valid email address.');
        }
        if (guardian2Email && !isValidEmail(guardian2Email)) {
          errors.push('Parent/Guardian 2 Email is not a valid email address.');
        }

        // URLs
        const highlightVideoUrl = sanitizeText(form.highlightVideoUrl.value);
        const recruitingProfileUrl = sanitizeText(form.recruitingProfileUrl.value);
        form.highlightVideoUrl.value = highlightVideoUrl;
        form.recruitingProfileUrl.value = recruitingProfileUrl;

        if (!isValidUrl(highlightVideoUrl)) {
          errors.push('Highlight Video URL is not a valid URL.');
        }
        if (!isValidUrl(recruitingProfileUrl)) {
          errors.push('Recruiting Profile URL is not a valid URL.');
        }

        // File validation
        const fileInput = document.getElementById('photoMain');
        const file = fileInput.files[0];
        if (file) {
          if (!file.type || !file.type.startsWith('image/')) {
            errors.push('Player photo must be an image file (JPG, PNG, etc.).');
          }
          const maxBytes = 10 * 1024 * 1024; // 10MB
          if (file.size > maxBytes) {
            errors.push('Player photo must be less than 10MB.');
          }
        }

        showErrors(errors);
        if (errors.length) {
          return;
        }

        // If valid: submit
        submitBtn.disabled = true;
        successBox.style.display = 'block';
        successBox.textContent = 'Submitting...';

        // NOTE: server must still do its own validation & sanitization.
        form.submit();
      });
    })();
  </script>
</body>
</html>
