<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Player Showcase | NJ HITZ Softball</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet" />

  <style>
    :root {
      --hitz-purple:#4c2a85;
      --hitz-gold:#b38b35;
      --hitz-black:#0e0e0f;
      --hitz-white:#ffffff;
      --hitz-gray:#1a1a1f;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji";
      background:radial-gradient(1200px 800px at 70% -10%,rgba(179,139,53,.15),#050509);
      color:var(--hitz-white);
      line-height:1.5;
    }

    a{ color:inherit; text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .page-container{
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }


    /* Shared site header & navigation */
    .site-header{
      position:sticky;
      top:0;
      z-index:50;
      background:linear-gradient(90deg,rgba(12,10,24,.97),rgba(17,13,30,.98));
      border-bottom:2px solid #b38b35;
      backdrop-filter:blur(10px);
    }
    .nav-inner{
      max-width:1100px;
      margin:0 auto;
      padding:8px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .nav-brand{
      display:inline-flex;
      align-items:center;
      gap:8px;
      text-decoration:none;
      color:#ffffff;
    }
    .nav-brand img{
      height:44px;
      width:auto;
      filter:drop-shadow(0 2px 10px rgba(0,0,0,.6));
    }
    .nav-brand span{
      font-size:.8rem;
      text-transform:uppercase;
      letter-spacing:.18em;
      font-weight:800;
      white-space:nowrap;
    }
    .nav-links{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .nav-links a{
      font-size:.8rem;
      text-transform:uppercase;
      letter-spacing:.12em;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid transparent;
      text-decoration:none;
      color:#eaeaf5;
      white-space:nowrap;
    }
    .nav-links a:hover{
      border-color:rgba(255,255,255,.2);
      background:rgba(179,139,53,.12);
    }
    .nav-toggle{
      display:none;
      width:38px;
      height:32px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.35);
      background:rgba(10,10,16,.9);
      color:#fff;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      gap:4px;
      padding:0;
      cursor:pointer;
    }
    .nav-toggle-bar{
      width:18px;
      height:2px;
      border-radius:999px;
      background:#fff;
    }
    .nav-menu{
      display:none;
      background:#101018;
      border-bottom:1px solid rgba(255,255,255,.12);
    }
    .nav-menu--open{
      display:block;
    }
    .nav-menu a{
      display:block;
      padding:10px 18px;
      border-top:1px solid rgba(255,255,255,.06);
      text-decoration:none;
      font-size:.9rem;
      color:#f1f1ff;
    }
    .nav-menu a:hover{
      background:rgba(179,139,53,.16);
    }
    @media (max-width:768px){
      .nav-links{
        display:none;
      }
      .nav-toggle{
        display:inline-flex;
      }
    }
    @media (min-width:769px){
      .nav-menu{
        display:none !important;
      }
    }


    main{
      flex:1;
      padding:26px 16px 40px;
    }
    .content{
      max-width:1100px;
      margin:0 auto;
    }

    .player-hero{
      margin-bottom:18px;
    }
    .player-tagline{
      text-transform:uppercase;
      letter-spacing:.18em;
      font-size:.8rem;
      color:var(--hitz-gold);
      margin-bottom:6px;
      font-weight:800;
    }
    .player-name{
      margin:0 0 6px;
      font-size:clamp(26px,4vw,36px);
      letter-spacing:.02em;
    }
    .player-subtitle{
      margin:0;
      color:#d7d7e2;
      font-size:.96rem;
    }

    .layout{
      display:grid;
      grid-template-columns:minmax(0,1.4fr) minmax(0,1fr);
      gap:18px;
    }
    @media (max-width:768px){
      .layout{
        grid-template-columns:1fr;
      }
    }

    .card{
      background:rgba(13,13,22,.96);
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      padding:16px 14px 16px;
      box-shadow:0 18px 36px rgba(0,0,0,.65);
    }
    .card + .card{
      margin-top:14px;
    }
    .card h2,
    .card h3{
      margin:0 0 8px;
      font-size:1rem;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:#eaeaf5;
    }
    .card h2 span,
    .card h3 span{
      color:var(--hitz-gold);
    }

    .player-photo-wrap{
      position:relative;
      border-radius:16px;
      overflow:hidden;
      background:#050509;
      min-height:260px;
      max-height:420px;
    }
    .player-photo{
      width:100%;
      height:100%;
      object-fit:cover;
    }
    .player-badge{
      position:absolute;
      left:12px;
      bottom:12px;
      padding:6px 10px;
      border-radius:999px;
      background:rgba(5,5,10,.9);
      border:1px solid rgba(255,255,255,.25);
      font-size:.8rem;
    }

    dl.meta{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
      gap:6px 14px;
      margin:10px 0 0;
      font-size:.9rem;
    }
    dl.meta dt{
      font-weight:600;
      color:#d7d7ea;
    }
    dl.meta dd{
      margin:0;
      color:#f5f5ff;
    }

    .pill-row{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin:6px 0 0;
    }
    .pill{
      padding:3px 9px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(20,20,30,.9);
      font-size:.8rem;
    }

    .two-col{
      display:grid;
      grid-template-columns:minmax(0,1fr) minmax(0,1fr);
      gap:16px;
    }
    @media (max-width:640px){
      .two-col{
        grid-template-columns:1fr;
      }
    }

    .list{
      margin:6px 0 0;
      padding-left:18px;
      font-size:.9rem;
      color:#e1e1f3;
    }
    .list li{
      margin-bottom:4px;
    }

    .measurables-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
      gap:10px;
      margin-top:6px;
      font-size:.9rem;
    }
    .measure-card{
      padding:8px 10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.15);
      background:#151520;
    }
    .measure-label{
      font-size:.78rem;
      text-transform:uppercase;
      letter-spacing:.12em;
      color:#c8c8dd;
      margin-bottom:2px;
    }
    .measure-value{
      font-size:.98rem;
      font-weight:600;
      color:#ffffff;
    }

    table.stats{
      width:100%;
      border-collapse:collapse;
      font-size:.88rem;
      margin-top:4px;
    }
    table.stats th,
    table.stats td{
      padding:4px 6px;
      border-bottom:1px solid rgba(255,255,255,.12);
      text-align:left;
    }
    table.stats th{
      text-transform:uppercase;
      letter-spacing:.12em;
      font-size:.72rem;
      color:#dcdcf0;
    }
    table.stats tr:nth-child(even){
      background:rgba(255,255,255,.03);
    }

    .note{
      margin-top:6px;
      font-size:.82rem;
      color:#bcbcd6;
      font-style:italic;
    }

    footer{
      padding:14px 16px 20px;
      border-top:2px solid rgba(255,255,255,.08);
      font-size:.82rem;
      color:#bdbdd1;
      text-align:center;
      background:#050509;
      margin-top:20px;
    }

    .back-link{
      display:inline-flex;
      align-items:center;
      gap:6px;
      font-size:.86rem;
      text-decoration:none;
      color:#e1e1ff;
      margin-bottom:10px;
    }
    .back-link span{
      font-size:1.1rem;
      line-height:1;
    }

    .error-message{
      margin-top:20px;
      font-size:.98rem;
      color:#ff9c9c;
    }
  </style>
</head>
<body>
  <!-- Shared site header -->
  <header class="site-header">
    <div class="nav-inner">
      <a href="index.html" class="nav-brand">
        <img src="images/hitzpurple.png" alt="NJ HITZ Softball logo">
        <span>NJ HITZ SOFTBALL</span>
      </a>

      <!-- Desktop navigation -->
      <nav class="nav-links" aria-label="Primary navigation">
        <a href="index.html#program">Program</a>
        <a href="index.html#mission">Mission</a>
        <a href="index.html#gallery">Gallery</a>
        <a href="teams.html">Teams</a>
        <a href="index.html#contact">Contact</a>        
        <a href="tryouts">Tryouts</a>
      </nav>

      <!-- Mobile hamburger -->
      <button class="nav-toggle" type="button" aria-label="Toggle navigation" aria-expanded="false">
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
      </button>
    </div>

    <!-- Mobile nav panel -->
    <nav class="nav-menu" aria-label="Mobile navigation">
      <a href="index.html#program">Program</a>
      <a href="index.html#mission">Mission</a>
      <a href="index.html#gallery">Gallery</a>
      <a href="teams.html">Teams</a>
      <a href="index.html#contact">Contact</a>
      <a href="tryouts">Tryouts</a>
    </nav>
  </header>


  <div class="page-container">
    <main>
      <div class="content">
        <a href="teams.html" class="back-link"><span>←</span> Back to Teams</a>

        <section id="player-hero" class="player-hero" style="display:none;">
          <div class="player-tagline">Player Showcase</div>
          <h1 class="player-name" id="player-name"></h1>
          <p class="player-subtitle" id="player-subtitle"></p>
        </section>

        <div id="player-layout" class="layout" style="display:none;">
          <div>
            <article class="card">
              <h2><span>Profile</span></h2>
              <div class="player-photo-wrap">
                <img id="player-photo" class="player-photo" src="" alt="Player photo">
                <div class="player-badge" id="player-badge"></div>
              </div>

              <dl class="meta">
                <div>
                  <dt>Team</dt>
                  <dd id="meta-team"></dd>
                </div>
                <div>
                  <dt>Grad Year</dt>
                  <dd id="meta-grad"></dd>
                </div>
                <div>
                  <dt>School</dt>
                  <dd id="meta-school"></dd>
                </div>
                <div>
                  <dt>GPA</dt>
                  <dd id="meta-gpa"></dd>
                </div>
                <div>
                  <dt>Height / Weight</dt>
                  <dd id="meta-size"></dd>
                </div>
                <div>
                  <dt>Bats / Throws</dt>
                  <dd id="meta-batsthrows"></dd>
                </div>
              </dl>

              <div class="pill-row" id="pos-pills"></div>
            </article>

            <article class="card">
              <h3><span>Academics & Bio</span></h3>
              <div class="two-col">
                <div>
                  <h4 style="margin:0 0 4px;font-size:.9rem;color:#f2f2ff;">Academics</h4>
                  <ul class="list" id="academics-list"></ul>
                </div>
                <div>
                  <h4 style="margin:0 0 4px;font-size:.9rem;color:#f2f2ff;">Bio & Family</h4>
                  <ul class="list" id="bio-list"></ul>
                </div>
              </div>
            </article>
          </div>

          <div>
            <article class="card">
              <h3><span>Contact</span></h3>
              <ul class="list" id="contact-list"></ul>
            </article>

            <article class="card">
              <h3><span>Measurables</span></h3>
              <div class="measurables-grid" id="measurables-grid"></div>
            </article>

            <article class="card" id="offense-card" style="display:none;">
              <h3><span>Offensive Stats</span></h3>
              <table class="stats" id="offense-table"></table>
              <p class="note" id="stats-note"></p>
            </article>

            <article class="card" id="pitching-card" style="display:none;">
              <h3><span>Pitching Stats</span></h3>
              <table class="stats" id="pitching-table"></table>
            </article>

            <article class="card" id="links-card" style="display:none;">
              <h3><span>Video & Links</span></h3>
              <ul class="list" id="links-list"></ul>
            </article>
          </div>
        </div>

        <p id="player-error" class="error-message" style="display:none;">
          Player not found. Please return to the <a href="teams.html">Teams</a> page and choose a player from the roster.
        </p>
      </div>
    </main>

    <footer>
      © <span id="year"></span> NJ HITZ Softball — Player Showcase
    </footer>
  </div>

  <script>
    (function(){
      document.getElementById('year').textContent = new Date().getFullYear();

      function getParam(name){
        const url = new URL(window.location.href);
        return url.searchParams.get(name);
      }

      const slug = getParam('player');
      if(!slug){
        document.getElementById('player-error').style.display = 'block';
        return;
      }

      fetch('data/players.json', {cache:'no-cache'})
        .then(resp => resp.json())
        .then(data => {
          const list = (data && data.players) ? data.players : [];
          const player = list.find(p => p.slug === slug);
          if(!player){
            document.getElementById('player-error').style.display = 'block';
            return;
          }
          renderPlayer(player);
        })
        .catch(err => {
          console.error('Error loading players.json', err);
          document.getElementById('player-error').style.display = 'block';
        });

      function renderPlayer(p){
        document.getElementById('player-hero').style.display = '';
        document.getElementById('player-layout').style.display = '';

        const nameEl = document.getElementById('player-name');
        const subtitleEl = document.getElementById('player-subtitle');

        nameEl.textContent = p.name || 'Player Name';
        const jersey = p.number ? '#' + p.number : '';
        const team = p.teamName || '';
        const pos = (Array.isArray(p.positions) ? p.positions.join(', ') : (p.positionPrimary || '')).trim();
        subtitleEl.textContent = [jersey, team, pos].filter(Boolean).join(' • ');

        const photoEl = document.getElementById('player-photo');
        if(p.photoMain){
          photoEl.src = p.photoMain;
        } else {
          photoEl.src = 'images/7F0A3436-zoom.jpg';
        }
        photoEl.alt = p.name ? (p.name + ' — player photo') : 'Player photo';

        const badgeEl = document.getElementById('player-badge');
        badgeEl.textContent = jersey || 'NJ HITZ';

        document.getElementById('meta-team').textContent = p.teamName || '';
        document.getElementById('meta-grad').textContent = p.gradYear || '';
        document.getElementById('meta-school').textContent = p.schoolName || '—';
        document.getElementById('meta-gpa').textContent = p.gpa || '—';
        document.getElementById('meta-size').textContent = (p.height && p.weight) ? `${p.height} / ${p.weight}` : (p.height || p.weight || '—');
        document.getElementById('meta-batsthrows').textContent = p.batsThrows || '—';

        const posWrap = document.getElementById('pos-pills');
        posWrap.innerHTML = '';
        const positions = Array.isArray(p.positions) ? p.positions : (p.positionPrimary ? [p.positionPrimary] : []);
        positions.forEach(pos => {
          const span = document.createElement('span');
          span.className = 'pill';
          span.textContent = pos;
          posWrap.appendChild(span);
        });

        const acadList = document.getElementById('academics-list');
        acadList.innerHTML = '';
        const acadItems = [];
        if(p.academics){ acadItems.push(p.academics); }
        if(p.honors){ acadItems.push('Honors: ' + p.honors); }
        if(p.intendedMajor){ acadItems.push('Intended Major: ' + p.intendedMajor); }
        if(!acadItems.length){ acadItems.push('Example: strong classroom performance with leadership roles and community involvement.'); }
        acadItems.forEach(t => {
          const li = document.createElement('li');
          li.textContent = t;
          acadList.appendChild(li);
        });

        const bioList = document.getElementById('bio-list');
        bioList.innerHTML = '';
        if(p.bio){
          const li = document.createElement('li');
          li.textContent = p.bio;
          bioList.appendChild(li);
        }
        if(p.family){
          const li = document.createElement('li');
          li.textContent = p.family;
          bioList.appendChild(li);
        }

        const contactList = document.getElementById('contact-list');
        contactList.innerHTML = '';
        if(p.contactEmail){
          const li = document.createElement('li');
          li.innerHTML = `<strong>Email:</strong> <a href="mailto:${p.contactEmail}">${p.contactEmail}</a>`;
          contactList.appendChild(li);
        }
        if(p.contactPhone){
          const li = document.createElement('li');
          li.innerHTML = `<strong>Phone:</strong> <a href="tel:${p.contactPhone}">${p.contactPhone}</a>`;
          contactList.appendChild(li);
        }
        if(p.guardian1Name || p.guardian1Email || p.guardian1Phone){
          const li = document.createElement('li');
          li.innerHTML = `<strong>Guardian:</strong> ${p.guardian1Name || ''} ${p.guardian1Email ? ' • ' + p.guardian1Email : ''} ${p.guardian1Phone ? ' • ' + p.guardian1Phone : ''}`.trim();
          contactList.appendChild(li);
        }

        const measWrap = document.getElementById('measurables-grid');
        measWrap.innerHTML = '';
        (p.measurables || []).forEach(m => {
          const div = document.createElement('div');
          div.className = 'measure-card';
          div.innerHTML = `<div class="measure-label">${m.label || ''}</div><div class="measure-value">${m.value || ''}</div>`;
          measWrap.appendChild(div);
        });

        const offCard = document.getElementById('offense-card');
        const offTable = document.getElementById('offense-table');
        offTable.innerHTML = '';
        if(p.statsOffense && p.statsOffense.length){
          offCard.style.display = '';
          const rows = p.statsOffense;
          offTable.innerHTML = `
            <thead>
              <tr>
                <th>Season</th>
                <th>AVG</th>
                <th>OBP</th>
                <th>SLG</th>
                <th>OPS</th>
                <th>HR</th>
                <th>RBI</th>
              </tr>
            </thead>
            <tbody>
              ${rows.map(r => `
                <tr>
                  <td>${r.season || ''}</td>
                  <td>${r.avg || ''}</td>
                  <td>${r.obp || ''}</td>
                  <td>${r.slg || ''}</td>
                  <td>${r.ops || ''}</td>
                  <td>${r.hr != null ? r.hr : ''}</td>
                  <td>${r.rbi != null ? r.rbi : ''}</td>
                </tr>
              `).join('')}
            </tbody>
          `;
          document.getElementById('stats-note').textContent = p.statsNote || 'Sample stats for layout display. Replace with verified season data.';
        }

        const pitchCard = document.getElementById('pitching-card');
        const pitchTable = document.getElementById('pitching-table');
        pitchTable.innerHTML = '';
        if(p.statsPitching && p.statsPitching.length){
          pitchCard.style.display = '';
          const rowsP = p.statsPitching;
          pitchTable.innerHTML = `
            <thead>
              <tr>
                <th>Season</th>
                <th>ERA</th>
                <th>IP</th>
                <th>K</th>
                <th>BB</th>
                <th>WHIP</th>
              </tr>
            </thead>
            <tbody>
              ${rowsP.map(r => `
                <tr>
                  <td>${r.season || ''}</td>
                  <td>${r.era || ''}</td>
                  <td>${r.ip || ''}</td>
                  <td>${r.k != null ? r.k : ''}</td>
                  <td>${r.bb != null ? r.bb : ''}</td>
                  <td>${r.whip || ''}</td>
                </tr>
              `).join('')}
            </tbody>
          `;
        }

        const linksCard = document.getElementById('links-card');
        const linksList = document.getElementById('links-list');
        linksList.innerHTML = '';
        const links = [];
        if(p.highlightVideoUrl){
          links.push({ label: 'Highlight Video', url: p.highlightVideoUrl });
        }
        if(p.recruitingProfileUrl){
          links.push({ label: 'Recruiting Profile', url: p.recruitingProfileUrl });
        }
        (p.additionalLinks || []).forEach(x => {
          if(x && x.url){
            links.push({ label: x.label || x.url, url: x.url });
          }
        });
        if(links.length){
          linksCard.style.display = '';
          links.forEach(l => {
            const li = document.createElement('li');
            li.innerHTML = `<a href="${l.url}" target="_blank" rel="noopener">${l.label}</a>`;
            linksList.appendChild(li);
          });
        }
      }
    })();


  // Shared mobile nav toggle
  (function () {
    const toggle = document.querySelector('.nav-toggle');
    const menu = document.querySelector('.nav-menu');
    if (!toggle || !menu) return;
    toggle.addEventListener('click', function () {
      const isOpen = menu.classList.toggle('nav-menu--open');
      toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
    });
    menu.querySelectorAll('a').forEach(function (link) {
      link.addEventListener('click', function () {
        menu.classList.remove('nav-menu--open');
        toggle.setAttribute('aria-expanded', 'false');
      });
    });
  })();

  </script>
</body>
</html>
